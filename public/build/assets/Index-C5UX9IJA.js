import{T as S,s as _,l as O,p as C,o as v,c as $,w as n,a as i,d as y,u as t,b as u,e as E,f as V,F as k,q as L,j as U,t as h,x as j,y as M,k as w,r as D}from"./app-Doew6ZCh.js";import{u as x,_ as T}from"./BaseModal-C7aJHn0u.js";import{_ as A,a as I}from"./BaseRadio-BGV9VGOW.js";import{_ as N}from"./BaseInput-B7XT_GqB.js";import{_ as b}from"./BaseButton-wvLPRI0d.js";import"./BasePagination-V4q61FIM.js";import"./index-Bb4qSo10.js";const q=u("h3",{class:"text-lg font-medium text-gray-900"}," Add category ",-1),H=u("label",{class:"block mb-2 text-sm font-medium text-gray-900"}," Is Visible? ",-1),R={class:"flex flex-wrap gap-6"},Y={__name:"CreateCategoryModal",setup(m){const a=S({title:"",visible:!0}),s=x(),{createCategoryModalOpen:d}=_(s);function l(){a.post(route("categories.store"),{preserveScroll:!0,onSuccess:()=>{d.value=!1,w().add({type:"success",message:"Category created successfully"}),a.reset()}})}const g=[{id:"create-category-visible",value:!0,label:"Yes"},{id:"create-category-hidden",value:!1,label:"No"}],p=O(null);return C(d,r=>{r&&setTimeout(()=>{p.value.focus()},0)}),(r,e)=>(v(),$(T,{"is-open":t(d),"onUpdate:isOpen":e[4]||(e[4]=o=>M(d)?d.value=o:null),onOnClose:e[5]||(e[5]=o=>d.value=!1)},{header:n(()=>[q]),footer:n(()=>[i(b,{variant:"secondary",onClick:e[3]||(e[3]=o=>d.value=!1)},{default:n(()=>[y(" Cancel ")]),_:1}),i(b,{form:"create-category-form",type:"submit",isLoading:t(a).processing},{default:n(()=>[y(" Create ")]),_:1},8,["isLoading"])]),default:n(()=>[u("form",{id:"create-category-form",class:"grid gap-6",novalidate:"",onSubmit:E(l,["prevent"])},[i(N,{ref_key:"input",ref:p,label:"Title",id:"create-label-name",type:"text",modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=o=>t(a).title=o),"error-message":t(a).errors.title,onFocus:e[1]||(e[1]=o=>t(a).clearErrors("title"))},null,8,["modelValue","error-message"]),u("div",null,[H,u("div",R,[(v(),V(k,null,L(g,o=>i(A,{modelValue:t(a).visible,"onUpdate:modelValue":e[2]||(e[2]=c=>t(a).visible=c),option:o},null,8,["modelValue","option"])),64)),U(u("p",{class:"mt-2 text-sm text-red-600"},h(t(a).errors.visible),513),[[j,t(a).errors.visible]])])])],32)]),_:1},8,["is-open"]))}},z=u("h3",{class:"text-lg font-medium text-gray-900"}," Edit category ",-1),G=u("label",{class:"block mb-2 text-sm font-medium text-gray-900"}," Is Visible? ",-1),J={class:"flex flex-wrap gap-6"},K={__name:"EditCategoryModal",props:{category:{type:[Object],required:!0,default:()=>({title:"",visible:!1})}},setup(m){const a=m,s=S({...a.category});C(()=>a.category,e=>{s.defaults({...e}).reset()});const d=x(),{editCategoryModalOpen:l}=_(d);function g(){const e=route("categories.update",{category:a.category});s.patch(e,{preserveScroll:!0,onSuccess:()=>{l.value=!1,w().add({type:"success",message:"Category updated successfully"}),s.reset()}})}const p=[{id:"edit-category-visible",value:!0,label:"Yes"},{id:"edit-category-hidden",value:!1,label:"No"}],r=O(null);return C(l,e=>{e&&setTimeout(()=>{r.value.focus()},0)}),(e,o)=>(v(),$(T,{"is-open":t(l),"onUpdate:isOpen":o[4]||(o[4]=c=>M(l)?l.value=c:null),onOnClose:o[5]||(o[5]=c=>l.value=!1)},{header:n(()=>[z]),footer:n(()=>[i(b,{variant:"secondary",onClick:o[3]||(o[3]=c=>l.value=!1)},{default:n(()=>[y(" Cancel ")]),_:1}),i(b,{form:"edit-label-form",type:"submit",isLoading:t(s).processing},{default:n(()=>[y(" Save ")]),_:1},8,["isLoading"])]),default:n(()=>[u("form",{id:"edit-label-form",class:"grid gap-6",novalidate:"",onSubmit:E(g,["prevent"])},[i(N,{ref_key:"input",ref:r,label:"Title",id:"edit-category-title",type:"text",modelValue:t(s).title,"onUpdate:modelValue":o[0]||(o[0]=c=>t(s).title=c),"error-message":t(s).errors.title,onFocus:o[1]||(o[1]=c=>t(s).clearErrors("title"))},null,8,["modelValue","error-message"]),u("div",null,[G,u("div",J,[(v(),V(k,null,L(p,c=>i(A,{modelValue:t(s).visible,"onUpdate:modelValue":o[2]||(o[2]=f=>t(s).visible=f),option:c},null,8,["modelValue","option"])),64)),U(u("p",{class:"mt-2 text-sm text-red-600"},h(t(s).errors.visible),513),[[j,t(s).errors.visible]])])])],32)]),_:1},8,["is-open"]))}},P=u("h3",{class:"text-lg font-medium text-gray-900"}," Delete category ",-1),Q=u("div",null,[u("p",{class:"text-sm text-gray-600"}," This action cannot be undone. Do you want to proceed with the deletion? ")],-1),W={__name:"DeleteCategoryModal",props:{category:{type:[Object],required:!0,default:()=>({title:"",visible:!1})}},setup(m){const a=m,s=S({}),d=x(),{deleteCategoryModalOpen:l}=_(d);function g(){const p=route("categories.destroy",{category:a.category});s.delete(p,{preserveScroll:!0,onSuccess:()=>{l.value=!1,w().add({type:"success",message:"Category deleted successfully"}),s.reset()}})}return(p,r)=>(v(),$(T,{"is-open":t(l),"onUpdate:isOpen":r[1]||(r[1]=e=>M(l)?l.value=e:null),onOnClose:r[2]||(r[2]=e=>l.value=!1)},{header:n(()=>[P]),footer:n(()=>[i(b,{variant:"secondary",onClick:r[0]||(r[0]=e=>l.value=!1)},{default:n(()=>[y(" Cancel ")]),_:1}),i(b,{onClick:g,variant:"danger",class:"ms-3","is-loading":t(s).processing},{default:n(()=>[y(" Delete ")]),_:1},8,["is-loading"])]),default:n(()=>[Q]),_:1},8,["is-open"]))}},re={__name:"Index",props:{categories:{type:[Object],default:()=>[]},filters:{type:[Object]}},setup(m){const a=[{key:"title",label:"Title"},{key:"slug",label:"Slug"},{key:"visible",label:"Is Visible"},{key:"actions",label:"Actions"}],s=x(),{createCategoryModalOpen:d,editCategoryModalOpen:l,deleteCategoryModalOpen:g}=_(s),p=O();function r(f){p.value=f}function e(){d.value=!0}function o(f){l.value=!0,r(f)}function c(f){g.value=!0,r(f)}return(f,X)=>{const B=D("Head"),F=D("AuthenticatedLayout");return v(),V(k,null,[i(B,{title:"Categories"}),i(F,null,{default:n(()=>[i(I,{"table-id":"categories",placeholder:"Search",headers:a,data:m.categories,route:"categories.index",filters:m.filters,onOnCreate:e,onOnEdit:o,onOnDelete:c},{button:n(()=>[y(" Add ")]),_:1},8,["data","filters"])]),_:1}),i(t(Y)),i(t(K),{category:p.value},null,8,["category"]),i(t(W),{category:p.value},null,8,["category"])],64)}}};export{re as default};
